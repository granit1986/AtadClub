function checkBox(t,l,e,o){function i(){"object"!=typeof l&&(l={}),l.width=l.width||20,l.height=l.height||20,l.left=l.left||0,l.top=l.top||0,y=Ti.UI.createView(l),t.width=l.width,t.height=l.height;var i=Ti.UI.createView({width:t.width,height:t.height,left:l.left,top:l.left}),s=Ti.UI.createView({width:l.width,height:l.height,id:"checkbox"});a=Ti.UI.createImageView({image:e.uncheck||"images/checkbox.png",height:l.height,top:0,left:0,opacity:1}),d=Ti.UI.createImageView({image:e.select||"images/checkbox_check.png",height:l.height,width:l.width,top:0,left:0,opacity:0}),n=Ti.UI.createImageView({image:e.undefine||"images/checkbox_half.png",height:l.height,top:0,left:0,opacity:0}),i.add(y),i.add(n),i.add(a),i.add(d),i.add(s),p=i,o&&p.addEventListener("click",o)}function s(t){r(t)}function r(t){return t?(y.checked=!0,n.opacity=0,a.opacity=0,void(d.opacity=1)):0==t?(y.checked=!1,n.opacity=0,d.opacity=0,void(a.opacity=1)):(y.checked=!0,n.opacity=1,d.opacity=0,void(a.opacity=0))}var n,a,y,d,p,t=t,l=l,e=e,o=o;i(),this.checkedAll=2,this.undefined=1,this.uncheckedAll=0,this.outerView=function(){return p},this.state=function(){return 1===a.opacity?this.uncheckedAll:1===n.opacity?this.undefined:1===d.opacity?this.checkedAll:void 0},this.setIsChecked=function(t,l){t&&l.length==Object.keys(t).length?s(!0):t&&0!=Object.keys(t).length?t&&l.length>Object.keys(t).length&&s():s(!1)}}