var Alloy=require("alloy"),_=require("alloy/underscore")._,model,collection;exports.definition={config:{URL:"http://"+Titanium.App.serverDomain+"/api/"+Titanium.App.ApiVersion+"/{apiToken}/deals",columns:{id:"INT",name:"TEXT",description:"TEXT",price:"FLOAT",startTime:"int",endTime:"int",lat:"FLOAT",lng:"FLOAT",subCategories:"TEXT",active:"TEXT",dealtype:"int",complainscount:"int"},adapter:{type:"restapi",collection_name:"advert",idAttribute:"id"},debug:1},extendModel:function(e){return _.extend(e.prototype,{localValidate:function(e){var t=Alloy.Globals.core;return Alloy.Globals.error,t.rxs.empty.test(this.attributes.name)?(e(errors.NO_TITLE),!1):t.rxs.empty.test(this.attributes.price)?(e(errors.NO_PRICE),!1):(this.attributes.price=parseFloat(this.attributes.price),isNaN(this.attributes.price)?(e(errors.INVALID_PRICE),!1):t.rxs.empty.test(this.attributes.address)?(e(errors.NO_ADDRESS),!1):t.rxs.isUndefined(this.attributes.dealtype)?(e(errors.NO_DEALTYPES),!1):t.rxs.isUndefined(this.attributes.startDate)?(e(errors.NO_STARTDATE),!1):t.rxs.empty.test(this.attributes.renewDays)?(e(errors.NO_RENEWDAYS),!1):!0)}}),e},extendCollection:function(e){return _.extend(e.prototype,{}),e}},model=Alloy.M("deal",exports.definition,[]),collection=Alloy.C("deal",exports.definition,model),exports.Model=model,exports.Collection=collection;