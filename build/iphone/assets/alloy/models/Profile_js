var Alloy=require("alloy"),_=require("alloy/underscore")._,model,collection;exports.definition={config:{URL:"http://"+Titanium.App.serverDomain+"/api/"+Titanium.App.ApiVersion+"/{apiToken}/profile",columns:{firstName:"TEXT",lastName:"TEXT",email:"TEXT",phone:"TEXT",supplier:"INTEGER",address:"STRING",newPassword:"STRING",confirm:"STRING"},adapter:{type:"restapi",collection_name:"profile",idAttribute:"email"},debug:1},extendModel:function(e){return _.extend(e.prototype,{localValidate:function(e){var t=Alloy.Globals.errors,l=Alloy.Globals.core;return l.rxs.empty.test(this.attributes.firstName)?(e(t.NO_FIRST_NAME,null),!1):l.rxs.empty.test(this.attributes.email)?(e(t.NO_EMAIL,null),!1):l.rxs.email.test(this.attributes.email)?(this.attributes.phone=this.attributes.phone.replace(/^\s+/,""),this.attributes.phone=this.attributes.phone.replace(/\s+$/,""),l.rxs.empty.test(this.attributes.phone)||l.rxs.phone.test(this.attributes.phone)?this.attributes.newPassword!==this.attributes.confirm?(e(t.PASSWORDS_NOT_MATCH,null),!1):l.rxs.empty.test(this.attributes.newPassword)||l.rxs.password.test(this.attributes.newPassword)?!0:(e(t.PASSWORD_IS_TOO_SIMPLE,null),!1):(e(t.INVALID_PHONE,null),!1)):(e(t.INVALID_EMAIL,null),!1)}}),e}},model=Alloy.M("profile",exports.definition,[]),collection=Alloy.C("profile",exports.definition,model),exports.Model=model,exports.Collection=collection;