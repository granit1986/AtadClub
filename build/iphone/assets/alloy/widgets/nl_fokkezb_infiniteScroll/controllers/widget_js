function WPATH(t){var l=t.lastIndexOf("/"),e=-1===l?"nl.fokkezb.infiniteScroll/"+t:t.substring(0,l)+"/nl.fokkezb.infiniteScroll/"+t.substring(l+1);return e}function __processArg(t,l){var e=null;return t&&(e=t[l]||null,delete t[l]),e}function Controller(){function t(){delete p.__parentSymbol,delete p.__itemTemplate,delete p.$model,s(p),a.isText.text=c.msgTap,a.isCenter.remove(a.isIndicator)}function l(t,l){if(a.isIndicator.hide(),a.isCenter.remove(a.isIndicator),0!==t&&!1!==t&&-1!==t&&1!==t&&!0!==t)throw Error("Pass a valid state");return h=t,r(l),a.isCenter.add(a.isText),a.isText.show(),setTimeout(function(){g=!1},25),!0}function e(){return-1===h?!1:g?!1:(g=!0,a.isCenter.remove(a.isText),a.isCenter.add(a.isIndicator),a.isIndicator.show(),a.trigger("end",{show:function(){a.is.visible=!0},success:function(t){return l(y.SUCCESS,t)},error:function(t){return l(y.ERROR,t)},done:function(t){return l(y.DONE,t)}}),!0)}function o(t){var l;l=b&&t.contentOffset.y>b&&t.contentOffset.y+t.size.height>t.contentSize.height,b=t.contentOffset.y,l&&e()}function i(){l(y.DONE),n.removeEventListener("scroll",o)}function s(t){_.extend(c,t),r()}function r(t){a.isText.text=t?t:0===h||!1===h?c.msgError:-1===h?c.msgDone:c.msgTap}if(new(require("alloy/widget"))("nl.fokkezb.infiniteScroll"),this.__widgetId="nl.fokkezb.infiniteScroll",require("alloy/controllers/BaseController").apply(this,Array.prototype.slice.call(arguments)),this.__controllerPath="widget",arguments[0]){var n=__processArg(arguments[0],"__parentSymbol");__processArg(arguments[0],"$model"),__processArg(arguments[0],"__itemTemplate")}var a=this,y={},d={};a.__views.is=Ti.UI.createView({top:"0dp",width:Ti.UI.FILL,height:Ti.UI.SIZE,id:"is"}),e?a.__views.is.addEventListener("click",e):d["$.__views.is!click!load"]=!0,a.__views.isCenter=Ti.UI.createView({height:"50dp",bottom:"0dp",id:"isCenter"}),a.__views.is.add(a.__views.isCenter),a.__views.isText=Ti.UI.createLabel({wordWrap:!1,color:"#777",font:{fontSize:"17dp"},id:"isText"}),a.__views.isCenter.add(a.__views.isText),a.__views.isIndicator=Ti.UI.createActivityIndicator({style:Ti.UI.iPhone.ActivityIndicatorStyle.DARK,id:"isIndicator"}),a.__views.isCenter.add(a.__views.isIndicator),a.__views.is&&a.addProxyProperty("footerView",a.__views.is),y.destroy=function(){},_.extend(a,a.__views);var p=arguments[0]||{},c={msgTap:L("tap_to_load_more","Tap to load more..."),msgDone:L("no_more_to_load","No more to load..."),msgError:L("scroll_error","Tap to try again...")},g=!1,b=null,h=1;t(),y.SUCCESS=1,y.ERROR=0,y.DONE=-1,y.setOptions=s,y.load=e,y.state=l,y.dettach=i,d["$.__views.is!click!load"]&&a.__views.is.addEventListener("click",e),_.extend(a,y)}var Alloy=require("alloy"),Backbone=Alloy.Backbone,_=Alloy._;module.exports=Controller;