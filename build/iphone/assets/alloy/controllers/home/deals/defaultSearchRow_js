function __processArg(e,t){var l=null;return e&&(l=e[t]||null,delete e[t]),l}function Controller(){function e(e){var t=Alloy.createController("home/deals/deal",{id:e.row.rowid,lat:e.row.lat,lng:e.row.lng,backButtonTitle:"back_to_search_result",callback:function(e){e&&Ti.App.fireEvent("supplierWindow:blocked")}}).getView();Alloy.CFG.tabHome.open(t)}require("alloy/controllers/BaseController").apply(this,Array.prototype.slice.call(arguments)),this.__controllerPath="home/deals/defaultSearchRow",arguments[0]&&(__processArg(arguments[0],"__parentSymbol"),__processArg(arguments[0],"$model"),__processArg(arguments[0],"__itemTemplate"));var t=this,l={},o={};t.__views.rowWrap=Ti.UI.createTableViewRow({selectedBackgroundColor:Alloy.Globals.Styles.TableRowOnTapBg,id:"rowWrap",hasChild:"false",r:"r"}),t.__views.rowWrap&&t.addTopLevelView(t.__views.rowWrap),e?t.__views.rowWrap.addEventListener("click",e):o["$.__views.rowWrap!click!dealClick"]=!0,t.__views.row_imageWrap=Ti.UI.createView({width:"100dp",height:"140dp",left:Alloy.Globals.Styles.row_image,layout:"absolute",id:"row_imageWrap"}),t.__views.rowWrap.add(t.__views.row_imageWrap),t.__views.dealStatusWrap=Ti.UI.createView({width:"90dp",id:"dealStatusWrap",height:"0",top:"0"}),t.__views.row_imageWrap.add(t.__views.dealStatusWrap),t.__views.dealImg=Alloy.createWidget("nl.fokkezb.cachedImageView","widget",{width:"100dp",height:"100dp",backgroundColor:"#fff",id:"dealImg",__parentSymbol:t.__views.row_imageWrap}),t.__views.dealImg.setParent(t.__views.row_imageWrap),t.__views.raitingStars=Ti.UI.createView({width:"70dp",height:"13dp",left:Alloy.Globals.Styles.row_statusLbl_left,right:Alloy.Globals.Styles.row_statusLbl_right,backgroundRepear:!1,id:"raitingStars",bottom:"5dp",backgroundImage:"images/rate_5.png"}),t.__views.row_imageWrap.add(t.__views.raitingStars),t.__views.votesLbl=Ti.UI.createLabel({height:"20dp",left:Alloy.Globals.Styles.tooltipLeft,right:Alloy.Globals.Styles.tooltipRight,font:{fontFamily:"Avenir Next Condensed",fontSize:"12dp"},color:"#555",id:"votesLbl",bottom:"2dp"}),t.__views.row_imageWrap.add(t.__views.votesLbl),t.__views.__alloyId233=Ti.UI.createView({layout:"absolute",height:"30dp",id:"__alloyId233"}),t.__views.rowWrap.add(t.__views.__alloyId233),t.__views.statusLbl=Ti.UI.createLabel({id:"statusLbl",visible:"false"}),t.__views.__alloyId233.add(t.__views.statusLbl),t.__views.raitingLbl=Ti.UI.createLabel({id:"raitingLbl",visible:"false"}),t.__views.__alloyId233.add(t.__views.raitingLbl),t.__views.dealInfoWrap=Ti.UI.createView({id:"dealInfoWrap",layout:"horizontal",height:Ti.UI.SIZE,top:"0"}),t.__views.rowWrap.add(t.__views.dealInfoWrap),t.__views.__alloyId234=Ti.UI.createView({layout:"absolute",height:Ti.UI.SIZE,id:"__alloyId234"}),t.__views.dealInfoWrap.add(t.__views.__alloyId234),t.__views.titleLbl=Ti.UI.createLabel(function(){var e={};return _.extend(e,{width:"180dp",top:"10dp",right:Alloy.Globals.Styles.row_image,textAlign:Alloy.Globals.Styles.titleLbl_textAlign,font:{fontSize:"15dp",fontFamily:"Avenir Next Condensed"},color:"#007aff"}),Alloy.Globals.isHebrew&&_.extend(e,{left:Alloy.Globals.Styles.labelDefaultRow_left,right:Alloy.Globals.Styles.labelDefaultRow_right}),_.extend(e,{id:"titleLbl",height:Ti.UI.SIZE}),e}()),t.__views.__alloyId234.add(t.__views.titleLbl),t.__views.__alloyId235=Ti.UI.createView({layout:"absolute",height:"30dp",id:"__alloyId235"}),t.__views.dealInfoWrap.add(t.__views.__alloyId235),t.__views.companyLbl=Ti.UI.createLabel(function(){var e={};return _.extend(e,{width:"auto",height:"20dp",top:"2dp",right:Alloy.Globals.Styles.row_image,font:{fontSize:"12dp",fontFamily:"Avenir Next Condensed"},color:"#555"}),Alloy.Globals.isHebrew&&_.extend(e,{left:Alloy.Globals.Styles.labelDefaultRow_left,right:Alloy.Globals.Styles.labelDefaultRow_right}),_.extend(e,{id:"companyLbl"}),e}()),t.__views.__alloyId235.add(t.__views.companyLbl),t.__views.dealTypeLbl=Ti.UI.createLabel(function(){var e={};return _.extend(e,{height:"20dp",top:"0dp",left:Alloy.Globals.Styles.row_price,textAlign:Alloy.Globals.Styles.titleLbl_textAlign,font:{fontSize:"15dp",fontFamily:"Avenir Next Condensed"},color:"#a80062"}),Alloy.Globals.isHebrew&&_.extend(e,{left:Alloy.Globals.Styles.dealTypeLbl_left,right:Alloy.Globals.Styles.dealTypeLbl_right}),_.extend(e,{id:"dealTypeLbl"}),e}()),t.__views.__alloyId235.add(t.__views.dealTypeLbl),t.__views.__alloyId236=Ti.UI.createView({layout:"absolute",height:"30dp",id:"__alloyId236"}),t.__views.dealInfoWrap.add(t.__views.__alloyId236),t.__views.distanceLbl=Ti.UI.createLabel({height:"20dp",width:"0",top:"10dp",font:{fontSize:"12dp",fontFamily:"Avenir Next Condensed"},color:"#555",id:"distanceLbl",textid:"distance"}),t.__views.__alloyId236.add(t.__views.distanceLbl),t.__views.distanceVal=Ti.UI.createLabel(function(){var e={};return _.extend(e,{height:"20dp",top:"0dp",right:Alloy.Globals.Styles.row_image,font:{fontSize:"12dp",fontFamily:"Avenir Next Condensed"},color:"#555"}),Alloy.Globals.isHebrew&&_.extend(e,{left:Alloy.Globals.Styles.labelDefaultRow_left,right:Alloy.Globals.Styles.labelDefaultRow_right}),_.extend(e,{id:"distanceVal"}),e}()),t.__views.__alloyId236.add(t.__views.distanceVal),t.__views.priceLbl=Ti.UI.createLabel(function(){var e={};return _.extend(e,{height:"20dp",top:"-6dp",left:Alloy.Globals.Styles.row_price,textAlign:Alloy.Globals.Styles.titleLbl_textAlign,font:{fontSize:"20dp",fontFamily:"Avenir Next Condensed"},color:"#a80062"}),Alloy.Globals.isHebrew&&_.extend(e,{left:Alloy.Globals.Styles.priceLbl_left,right:Alloy.Globals.Styles.priceLbl_right}),_.extend(e,{id:"priceLbl"}),e}()),t.__views.__alloyId236.add(t.__views.priceLbl),t.__views.__alloyId237=Ti.UI.createView({height:"30dp",top:"-15dp",layout:"absolute",id:"__alloyId237"}),t.__views.dealInfoWrap.add(t.__views.__alloyId237),t.__views.endTimeLbl=Ti.UI.createLabel({height:"20dp",top:"10dp",left:Alloy.Globals.Styles.labelDefaultRow_left,right:Alloy.Globals.Styles.labelDefaultRow_right,font:{fontSize:"12dp",fontFamily:"Avenir Next Condensed"},color:"#555",id:"endTimeLbl",textid:"end_time",visible:"false"}),t.__views.__alloyId237.add(t.__views.endTimeLbl),t.__views.endTimeVal=Ti.UI.createLabel({height:"20dp",top:"10dp",left:Alloy.Globals.Styles.endTimeVal_left,right:Alloy.Globals.Styles.endTimeVal_right,font:{fontSize:"12dp",fontFamily:"Avenir Next Condensed"},color:"#555",id:"endTimeVal"}),t.__views.__alloyId237.add(t.__views.endTimeVal),l.destroy=function(){},_.extend(t,t.__views);var i=arguments[0]||{},a=i.model||!1;if(a&&(t.rowWrap.rowid=a.id,t.rowWrap.lat=a.myLat,t.rowWrap.lng=a.myLng,t.dealImg.init({image:a.image}),t.statusLbl.text=a.status,t.raitingLbl.text=a.rating,t.titleLbl.text=a.name,t.companyLbl.text=a.supplierName,t.dealTypeLbl.text=a.dealtype,t.distanceVal.text=a.distance,t.priceLbl.text=a.price,t.endTimeVal.text=a.endTime,t.votesLbl.text=a.votes),null!=t.endTimeVal.text&&t.endTimeVal.text.length>0&&(t.endTimeLbl.visible=!0),t.raitingStars.backgroundImage="images/rate_"+t.raitingLbl.text+".png",t.statusLbl.text>0){var s=Ti.UI.createLabel({height:"30dp",top:"-3dp",left:Alloy.Globals.Styles.row_statusLbl_left,right:Alloy.Globals.Styles.row_statusLbl_right,font:{fontSize:"16dp",fontFamily:"Avenir Next Condensed",fontWeight:"bold"}});1==t.statusLbl.text&&(s.text="Silver",s.color="#c0c0c0"),2==t.statusLbl.text&&(s.text="Gold",s.color="#ffd700"),t.dealStatusWrap.height=30,t.dealInfoWrap.top=5,t.dealStatusWrap.add(s),t.row_imageWrap.height=140,t.dealImg.top=20}o["$.__views.rowWrap!click!dealClick"]&&t.__views.rowWrap.addEventListener("click",e),_.extend(t,l)}var Alloy=require("alloy"),Backbone=Alloy.Backbone,_=Alloy._;module.exports=Controller;