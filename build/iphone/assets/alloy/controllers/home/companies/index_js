function __processArg(e,t){var l=null;return e&&(l=e[t]||null,delete e[t]),l}function Controller(){function e(){var e=Alloy.createCollection("companyWithDeals");e.fetch({silent:!0,data:{lat:r,lng:a,distance:n,token:d,clientTimeZoneOffset:c,subcategories:u,getCompanies:!0,language:Ti.Platform.locale},success:function(){Alloy.Globals.core.createRows(e,l,o.companies,"home/companies/row"),y.closeIndicator()},error:function(){y.closeIndicator()}})}function t(){y.openIndicator(),e()}function l(e){var t=e.toJSON();return t.categories=JSON.parse(t.categories).join(", "),t.logo=t.logoUrl+t.logoId+Alloy.Globals.imageSizes.supplier.row(),t}require("alloy/controllers/BaseController").apply(this,Array.prototype.slice.call(arguments)),this.__controllerPath="home/companies/index",arguments[0]&&(__processArg(arguments[0],"__parentSymbol"),__processArg(arguments[0],"$model"),__processArg(arguments[0],"__itemTemplate"));var o=this,i={},s={};o.__views.index=Ti.UI.createWindow({backgroundImage:Alloy.Globals.Styles.backgroundImage,layout:"horizontal",titleid:"all_companies_in_location",id:"index",fullscreen:"true"}),o.__views.index&&o.addTopLevelView(o.__views.index),t?o.__views.index.addEventListener("open",t):s["$.__views.index!open!open"]=!0,o.__views.__alloyId220=Ti.UI.createView({id:"__alloyId220"}),o.__views.index.add(o.__views.__alloyId220),o.__views.companies=Ti.UI.createTableView({backgroundColor:"#00ffffff",layout:"vertical",top:"0dp",id:"companies",separatorColor:"transparent"}),o.__views.__alloyId220.add(o.__views.companies),i.destroy=function(){},_.extend(o,o.__views);var a=arguments[0].lng||!1,r=arguments[0].lat||!1,n=arguments[0].distance||!1,d=arguments[0].token||!1,c=arguments[0].clientTimeZoneOffset||!1,u=arguments[0].subcategories||!1,y=Alloy.Globals.indicator;s["$.__views.index!open!open"]&&o.__views.index.addEventListener("open",t),_.extend(o,i)}var Alloy=require("alloy"),Backbone=Alloy.Backbone,_=Alloy._;module.exports=Controller;