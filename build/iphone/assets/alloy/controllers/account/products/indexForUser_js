function __processArg(e,t){var o=null;return e&&(o=e[t]||null,delete e[t]),o}function Controller(){function e(t){if(!t||!t.fromAdapter){e.opts||{};for(var n=s.models,r=n.length,a=[],d=0;r>d;d++){var c=n[d];c.__transform=o(c);var u=Alloy.createController("account/products/rowForUser",{$model:c,__parentSymbol:l});a.push(u.getViewEx({recurse:!0}))}i.__views.products.setData(a)}}function t(){d.openIndicator(),Alloy.Collections.supplierProducts.fetch({data:{id:a},success:function(){d.closeIndicator()},error:function(){d.closeIndicator()}})}function o(e){var t=e.toJSON();return t.price=t.currency+" "+t.price.trim(),t.images=t.images&&t.images.length>0?JSON.parse(t.images):[],t.images.length>0&&(t.image="http://"+Ti.App.serverDomain+"/api/"+Titanium.App.ApiVersion+"/image/"+t.images[0]+Alloy.Globals.imageSizes.product.row()),t}if(require("alloy/controllers/BaseController").apply(this,Array.prototype.slice.call(arguments)),this.__controllerPath="account/products/indexForUser",arguments[0]){var l=__processArg(arguments[0],"__parentSymbol");__processArg(arguments[0],"$model"),__processArg(arguments[0],"__itemTemplate")}var i=this,n={},r={};i.__views.window=Ti.UI.createWindow({backgroundImage:"images/background.png",layout:"vertical",id:"window",fullscreen:"true",titleid:"my_products"}),i.__views.window&&i.addTopLevelView(i.__views.window),t?i.__views.window.addEventListener("open",t):r["$.__views.window!open!open"]=!0,i.__views.products=Ti.UI.createTableView({backgroundColor:"#00ffffff",id:"products"}),i.__views.window.add(i.__views.products);var s=Alloy.Collections.supplierProducts||supplierProducts;s.on("fetch destroy change add remove reset",e),n.destroy=function(){s.off("fetch destroy change add remove reset",e)},_.extend(i,i.__views);var a=arguments[0].supplierId,d=Alloy.Globals.indicator;r["$.__views.window!open!open"]&&i.__views.window.addEventListener("open",t),_.extend(i,n)}var Alloy=require("alloy"),Backbone=Alloy.Backbone,_=Alloy._;module.exports=Controller;