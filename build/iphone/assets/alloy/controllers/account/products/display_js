function __processArg(e,t){var o=null;return e&&(o=e[t]||null,delete e[t]),o}function Controller(){function e(){if(a){r=Alloy.Collections.products.where({id:s})[0].toJSON();var e=Ti.UI.createButton({titleid:"edit"});e.addEventListener("click",function(){Alloy.CFG.tabAccount.open(Alloy.createController("account/products/product",{productId:r.id,callback:function(){o.window.close()}}).getView())}),o.window.setRightNavButton(e)}else r=Alloy.Collections.supplierProducts.where({id:s})[0].toJSON();if(o.window.title=r.name,o.title.text=r.name,o.price.text=r.price,o.description.text=r.description,r.images){r.images=JSON.parse(r.images);for(var l=0;l<r.images.length;l++){var i=Ti.UI.createImageView({image:"http://"+Ti.App.serverDomain+"/api/"+Titanium.App.ApiVersion+"/image/"+r.images[l]+Alloy.Globals.imageSizes.product.view(),imageOriginal:"http://"+Ti.App.serverDomain+"/api/"+Titanium.App.ApiVersion+"/image/"+r.images[l]+Alloy.Globals.imageSizes.product.original(),wihth:"180dp",height:"180dp"});i.addEventListener("click",t),o.images.addView(i)}r.images.length>0&&d.createWindow(o.images.views)}}function t(){var e=o.images.getCurrentPage();d.openWindow(e)}require("alloy/controllers/BaseController").apply(this,Array.prototype.slice.call(arguments)),this.__controllerPath="account/products/display",arguments[0]&&(__processArg(arguments[0],"__parentSymbol"),__processArg(arguments[0],"$model"),__processArg(arguments[0],"__itemTemplate"));var o=this,l={},i={};o.__views.window=Ti.UI.createWindow({backgroundImage:Alloy.Globals.Styles.backgroundImage,layout:"vertical",id:"window",fullscreen:"true"}),o.__views.window&&o.addTopLevelView(o.__views.window),e?o.__views.window.addEventListener("open",e):i["$.__views.window!open!open"]=!0,o.__views.__alloyId71=Ti.UI.createScrollView({layout:"vertical",left:"20dp",right:"20dp",id:"__alloyId71"}),o.__views.window.add(o.__views.__alloyId71),o.__views.__alloyId72=Ti.UI.createView({height:"20dp",width:Ti.UI.FILL,id:"__alloyId72"}),o.__views.__alloyId71.add(o.__views.__alloyId72);var n=[];o.__views.images=Ti.UI.createScrollableView({width:"280dp",height:"180dp",left:"0dp",bottom:"10dp",contenWidth:"180dp",borderColor:"#ccc",borderWidth:"1dp",backgroundColor:"#fff",views:n,id:"images",showPagingControl:"true"}),o.__views.__alloyId71.add(o.__views.images),o.__views.__alloyId74=Ti.UI.createView({height:"20dp",width:Ti.UI.FILL,id:"__alloyId74"}),o.__views.__alloyId71.add(o.__views.__alloyId74),o.__views.titleLbl=Ti.UI.createLabel({width:Alloy.Globals.Styles.labelWidth,height:"20dp",color:Alloy.Globals.Styles.labelColor,left:Alloy.Globals.Styles.labelLeft,right:Alloy.Globals.Styles.labelRight,textAlign:Alloy.Globals.Styles.labelTextAlign,font:{fontSize:"17dp",fontFamily:"Avenir Next Condensed"},bottom:"0dp",id:"titleLbl",textid:"title"}),o.__views.__alloyId71.add(o.__views.titleLbl),o.__views.title=Ti.UI.createLabel({width:Alloy.Globals.Styles.inputWidth,height:Ti.UI.SIZE,top:"-28dp",bottom:"0dp",left:Alloy.Globals.Styles.inputLeft,right:Alloy.Globals.Styles.inputRight,textAlign:Alloy.Globals.Styles.inputTextAlign,font:{fontSize:"17dp",fontFamily:"Avenir Next Condensed"},color:"#555",id:"title"}),o.__views.__alloyId71.add(o.__views.title),o.__views.__alloyId75=Ti.UI.createView({height:"1dp",backgroundColor:"#d9d9d9",id:"__alloyId75"}),o.__views.__alloyId71.add(o.__views.__alloyId75),o.__views.priceLbl=Ti.UI.createLabel({width:Alloy.Globals.Styles.labelWidth,height:Alloy.Globals.Styles.labelHeight,color:Alloy.Globals.Styles.labelColor,left:Alloy.Globals.Styles.labelLeft,right:Alloy.Globals.Styles.labelRight,textAlign:Alloy.Globals.Styles.labelTextAlign,font:{fontSize:"17dp",fontFamily:"Avenir Next Condensed"},bottom:"0dp",id:"priceLbl",textid:"price"}),o.__views.__alloyId71.add(o.__views.priceLbl),o.__views.price=Ti.UI.createLabel({width:Alloy.Globals.Styles.inputWidth,height:Ti.UI.SIZE,top:"-28dp",bottom:"0dp",left:Alloy.Globals.Styles.inputLeft,right:Alloy.Globals.Styles.inputRight,textAlign:Alloy.Globals.Styles.inputTextAlign,font:{fontSize:"17dp",fontFamily:"Avenir Next Condensed"},color:"#555",id:"price"}),o.__views.__alloyId71.add(o.__views.price),o.__views.__alloyId76=Ti.UI.createView({height:"1dp",backgroundColor:"#d9d9d9",id:"__alloyId76"}),o.__views.__alloyId71.add(o.__views.__alloyId76),o.__views.descriptionLbl=Ti.UI.createLabel({width:Alloy.Globals.Styles.labelWidth,height:Alloy.Globals.Styles.labelHeight,color:Alloy.Globals.Styles.labelColor,left:Alloy.Globals.Styles.labelLeft,right:Alloy.Globals.Styles.labelRight,textAlign:Alloy.Globals.Styles.labelTextAlign,font:{fontSize:"17dp",fontFamily:"Avenir Next Condensed"},bottom:"0dp",id:"descriptionLbl",textid:"description"}),o.__views.__alloyId71.add(o.__views.descriptionLbl),o.__views.description=Ti.UI.createLabel({width:Alloy.Globals.Styles.inputWidth,height:Ti.UI.SIZE,top:"-28dp",bottom:"0dp",left:Alloy.Globals.Styles.inputLeft,right:Alloy.Globals.Styles.inputRight,textAlign:Alloy.Globals.Styles.inputTextAlign,font:{fontSize:"17dp",fontFamily:"Avenir Next Condensed"},color:"#555",id:"description"}),o.__views.__alloyId71.add(o.__views.description),l.destroy=function(){},_.extend(o,o.__views);var r,s=arguments[0].productId||null,a=arguments[0].forEdit||null,d={window:!1,view:!1,openWindow:function(e){var t=this;t.window.open(),t.view.setCurrentPage(e)},createWindow:function(e){var t=this;t.window=Ti.UI.createWindow({width:"100%",height:"100%",backgroundColor:"#f0f0f0",orientationModes:[Ti.UI.PORTRAIT,Ti.UI.LANDSCAPE_LEFT,Ti.UI.LANDSCAPE_RIGHT]});var o=Ti.UI.createButton({title:"X",width:"30dp",height:"30dp",right:"5dp",top:"5dp",zIndex:10,backgroundColor:Alloy.Globals.Styles.buttonBg,color:"#fff"});o.addEventListener("click",function(){t.window.close()});for(var l=[],i=0;i<e.length;i++){var n=e[i],r=Ti.UI.createImageView({image:n.imageOriginal});l.push(r)}t.view=Ti.UI.createScrollableView({showPagingControl:!0,views:l}),t.window.add(t.view),t.window.add(o)}};i["$.__views.window!open!open"]&&o.__views.window.addEventListener("open",e),_.extend(o,l)}var Alloy=require("alloy"),Backbone=Alloy.Backbone,_=Alloy._;module.exports=Controller;