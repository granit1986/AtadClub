function __processArg(e,t){var n=null;return e&&(n=e[t]||null,delete e[t]),n}function Controller(){function e(t){if(!t||!t.fromAdapter){e.opts||{};for(var n=s.models,r=n.length,a=[],l=0;r>l;l++){var c=n[l];c.__transform=o(c);var d=Alloy.createController("account/answers/row",{$model:c});a.push(d.getViewEx({recurse:!0}))}i.__views.chats.setData(a)}}function t(){l.openIndicator(),c.fetch({success:function(){l.closeIndicator()},error:function(){l.closeIndicator()}})}function n(e){var t=c.get(e.row.rowId);t.destroy({success:function(){},error:function(){}})}function o(e){var t=e.toJSON();return t.NewMessages>0&&(t.NewMessages="+"+t.NewMessages),t}require("alloy/controllers/BaseController").apply(this,Array.prototype.slice.call(arguments)),this.__controllerPath="account/answers/index",arguments[0]&&(__processArg(arguments[0],"__parentSymbol"),__processArg(arguments[0],"$model"),__processArg(arguments[0],"__itemTemplate"));var i=this,r={},a={};i.__views.window=Ti.UI.createWindow({backgroundImage:"images/background.png",layout:"vertical",id:"window",fullscreen:"true",titleid:"my_answers"}),i.__views.window&&i.addTopLevelView(i.__views.window),i.__views.chats=Ti.UI.createTableView({backgroundColor:"#00ffffff",separatorColor:"transparent",editable:"true",id:"chats"}),i.__views.window.add(i.__views.chats);var s=Alloy.Collections.chats||c;s.on("fetch destroy change add remove reset",e),n?i.__views.chats.addEventListener("delete",n):a["$.__views.chats!delete!removeChat"]=!0,r.destroy=function(){s.off("fetch destroy change add remove reset",e)},_.extend(i,i.__views);var l=Alloy.Globals.indicator,c=Alloy.Collections.chats;Ti.App.addEventListener("offers:update",function(){t()}),t(),a["$.__views.chats!delete!removeChat"]&&i.__views.chats.addEventListener("delete",n),_.extend(i,r)}var Alloy=require("alloy"),Backbone=Alloy.Backbone,_=Alloy._;module.exports=Controller;