function __processArg(e,t){var o=null;return e&&(o=e[t]||null,delete e[t]),o}function Controller(){function e(t){if(!t||!t.fromAdapter){e.opts||{};for(var o=s.models,i=o.length,l=[],a=0;i>a;a++){var d=o[a];d.__transform=r(d);var c=Alloy.createController("account/offers/row",{$model:d});l.push(c.getViewEx({recurse:!0}))}n.__views.__alloyId55.setData(l)}}function t(){d.fetch({success:function(){},error:function(){}})}function o(){Ti.App.removeEventListener("offers:update",t)}function i(e){var t=d.get(e.row.rowId);t.destroy()}function r(e){var t=e.toJSON();return t.price=t.price?t.currency+" "+t.price:L("barter_offer"),t}require("alloy/controllers/BaseController").apply(this,Array.prototype.slice.call(arguments)),this.__controllerPath="account/offers/index",arguments[0]&&(__processArg(arguments[0],"__parentSymbol"),__processArg(arguments[0],"$model"),__processArg(arguments[0],"__itemTemplate"));var n=this,l={},a={};n.__views.window=Ti.UI.createWindow({backgroundImage:"images/background.png",layout:"vertical",id:"window",fullscreen:"true",titleid:"my_offers"}),n.__views.window&&n.addTopLevelView(n.__views.window),o?n.__views.window.addEventListener("close",o):a["$.__views.window!close!close"]=!0,n.__views.__alloyId55=Ti.UI.createTableView({backgroundColor:"#00ffffff",separatorColor:"transparent",editable:"true",id:"__alloyId55"}),n.__views.window.add(n.__views.__alloyId55);var s=Alloy.Collections.offers||d;s.on("fetch destroy change add remove reset",e),i?n.__views.__alloyId55.addEventListener("delete",i):a["$.__views.__alloyId55!delete!removeOffer"]=!0,l.destroy=function(){s.off("fetch destroy change add remove reset",e)},_.extend(n,n.__views);var d=Alloy.Collections.offers;Ti.App.addEventListener("offers:update",t),t(),a["$.__views.window!close!close"]&&n.__views.window.addEventListener("close",o),a["$.__views.__alloyId55!delete!removeOffer"]&&n.__views.__alloyId55.addEventListener("delete",i),_.extend(n,l)}var Alloy=require("alloy"),Backbone=Alloy.Backbone,_=Alloy._;module.exports=Controller;