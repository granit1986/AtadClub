function __processArg(e,t){var l=null;return e&&(l=e[t]||null,delete e[t]),l}function Controller(){function e(){for(var e=0;e<d.length;e++){var t=d[e];r.subCategories.selected({categoryId:n,id:t.id},r.currentSectionCategories())||r.subCategories.select({categoryId:n,id:t.id},r.currentSectionCategories())}}function t(){for(var e=0;e<d.length;e++){var t=d[e];r.subCategories.selected({categoryId:n,id:t.id},r.currentSectionCategories())&&r.subCategories.clear({categoryId:n,id:t.id},r.currentSectionCategories())}}function l(e){e.source.id&&"checkbox"===e.source.id||e.row.hasChild&&Ti.App.fireEvent("categoryWindow:showSubCategories",{categoryId:i.label.categoryId,categoryName:i.label.text})}if(require("alloy/controllers/BaseController").apply(this,Array.prototype.slice.call(arguments)),this.__controllerPath="categories/row",arguments[0]){__processArg(arguments[0],"__parentSymbol");var o=__processArg(arguments[0],"$model");__processArg(arguments[0],"__itemTemplate")}var i=this,s={},a={};i.__views.row=Ti.UI.createTableViewRow({selectedBackgroundColor:Alloy.Globals.Styles.TableRowOnTapBg,backgroundColor:"#00ffffff",layout:"absolute",selectionStyle:"none",hasChild:"true",id:"row"}),i.__views.row&&i.addTopLevelView(i.__views.row),l?i.__views.row.addEventListener("click",l):a["$.__views.row!click!click"]=!0,i.__views.label=Ti.UI.createLabel({height:"44dp",left:"40dp",font:{fontSize:"18dp",fontFamily:"Avenir Next Condensed"},color:"#007aff",id:"label",text:"undefined"!=typeof o.__transform.name?o.__transform.name:o.get("name"),categoryId:"undefined"!=typeof o.__transform.id?o.__transform.id:o.get("id")}),i.__views.row.add(i.__views.label),i.__views.forDeals=Ti.UI.createLabel({height:"44dp",left:"40dp",font:{fontSize:"18dp",fontFamily:"Avenir Next Condensed"},color:"#007aff",id:"forDeals",text:"undefined"!=typeof o.__transform.forDeals?o.__transform.forDeals:o.get("forDeals"),visible:"false"}),i.__views.row.add(i.__views.forDeals),i.__views.separate=Ti.UI.createView({width:"300dp",height:"1dp",top:"43dp",left:"10dp",backgroundColor:"#e6e6e6",id:"separate"}),i.__views.row.add(i.__views.separate),s.destroy=function(){},_.extend(i,i.__views);var r=Alloy.Globals.core,n=i.label.categoryId,d=Alloy.Collections.subCategories.where({categoryId:n}),c=r.currentSectionCategories()["_"+n],u=new Alloy.Globals.checkBox({},{width:25,height:25,left:10,categoryId:i.label.categoryId},{uncheck:"images/checkbox.png",select:"images/checkbox_check.png",undefine:"images/checkbox_half.png"},function(l){if(l.row.hasChild){var o=u.state();o===u.checkedAll?t():o===u.uncheckedAll?e():o===u.undefined&&e();for(category in r.currentSectionCategories())0==Object.size(r.currentSectionCategories()[category])&&delete r.currentSectionCategories()[category];c=r.currentSectionCategories()["_"+n],u.setIsChecked(c,d),Ti.App.fireEvent("blockCategories")}});u.setIsChecked(c,d),i.row.item=u,i.row.add(u.outerView()),i.forDeals.text||(i.separate.height=3),a["$.__views.row!click!click"]&&i.__views.row.addEventListener("click",l),_.extend(i,s)}var Alloy=require("alloy"),Backbone=Alloy.Backbone,_=Alloy._;module.exports=Controller;