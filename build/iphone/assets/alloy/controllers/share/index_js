function __processArg(e,t){var l=null;return e&&(l=e[t]||null,delete e[t]),l}function Controller(){function e(){}function t(e){e.source.backgroundColor=Alloy.Globals.Styles.buttonBgOnTap}function l(e){switch(e.source.backgroundColor=Alloy.Globals.Styles.buttonBg,e.source.id){case"sms":o();break;case"email":i();break;case"twitter":a();break;case"facebook":r();break;case"google":s()}}function o(){var e=require("com.omorandi").createSMSDialog({messageBody:v+"\n"+Alloy.Globals.core.appUrl});e.open({anumated:!0})}function i(){var e=Ti.UI.createEmailDialog();e.subject="Atad Club Application",e.messageBody=v+"\n"+Alloy.Globals.core.appUrl,e.open()}function a(){var e=require("alloy/social").create({consumerKey:"xtIHOCSPrhXsb1pLni1IyXPzf",consumerSecret:"azL5kQRuSaC85RD9cicA0H56IYp109i3OxDv1gx27OYdbDiz4O"});e.share({message:v+"\n"+Alloy.Globals.core.appUrl,success:function(){Alloy.Globals.core.showErrorDialog("Share success"),e.deauthorize()},error:function(){Alloy.Globals.core.showErrorDialog("You can't share in twitter"),e.deauthorize()}})}function s(){var e=Ti.UI.createWindow({barColor:"#000",navBarHidden:!1});encodeURIComponent("This text will be shared"),encodeURIComponent("http://www.company.com");var t=Ti.UI.createWebView({url:"https://plus.google.com/share?url="+encodeURIComponent(Alloy.Globals.core.appUrl)});e.add(t),e.open({modal:!0}),t.addEventListener("load",function(t){-1==t.url.indexOf("https://accounts.google.com")&&e.hideNavBar(),-1!=t.url.indexOf("https://plus.google.com/app/basic/stream")&&e.close()}),t.addEventListener("error",function(){e.close()})}function r(){Ti.Facebook.forceDialogAuth=!1,Ti.Facebook.appid="1437623056473639",Ti.Facebook.permissions=["publish_stream","offline_access","email"],Ti.Facebook.addEventListener("login",d),Ti.Facebook.loggedIn?n():Ti.Facebook.authorize()}function n(){var e={name:v,link:Alloy.Globals.core.appUrl};w||Ti.Facebook.dialog("feed",e,c),w=!0,Ti.Facebook.removeEventListener("login",d)}function d(e){e.success?(e.data.email||(e.data.email=e.data.username+"@facebook.com"),n()):e.error?Alloy.Globals.core.showErrorDialog(e.error):e.cancelled&&Alloy.Globals.core.showErrorDialog("Canceled")}function c(e){e.result?(Alloy.Globals.core.showErrorDialog("Share success"),Ti.Facebook.logout(),Ti.Facebook.accessToken=null):e.cancelled&&(Ti.Facebook.logout(),Ti.Facebook.accessToken=null),w=!1}require("alloy/controllers/BaseController").apply(this,Array.prototype.slice.call(arguments)),this.__controllerPath="share/index",arguments[0]&&(__processArg(arguments[0],"__parentSymbol"),__processArg(arguments[0],"$model"),__processArg(arguments[0],"__itemTemplate"));var u=this,y={},p={};u.__views.index=Ti.UI.createWindow({backgroundImage:Alloy.Globals.Styles.backgroundImage,layout:"vertical",titleid:"wib_share",id:"index"}),u.__views.index&&u.addTopLevelView(u.__views.index),e?u.__views.index.addEventListener("open",e):p["$.__views.index!open!open"]=!0,u.__views.__alloyId345=Ti.UI.createView({height:"20dp",width:Ti.UI.FILL,id:"__alloyId345"}),u.__views.index.add(u.__views.__alloyId345),u.__views.sms=Ti.UI.createButton({width:"180dp",height:"40dp",bottom:"20dp",style:Titanium.UI.iPhone.SystemButtonStyle.PLAIN,font:{fontFamily:"Avenir Next Condensed",fontSize:"20dp"},color:"#fff",textAlign:"center",verticalAlign:"center",backgroundColor:Alloy.Globals.Styles.buttonBg,id:"sms",titleid:"sms"}),u.__views.index.add(u.__views.sms),t?u.__views.sms.addEventListener("touchstart",t):p["$.__views.sms!touchstart!buttonTouchStart"]=!0,l?u.__views.sms.addEventListener("touchend",l):p["$.__views.sms!touchend!buttonTouchEnd"]=!0,u.__views.__alloyId346=Ti.UI.createLabel({width:"38dp",height:"38dp",left:"111dp",top:"-60dp",bottom:"20dp",backgroundImage:"images/icon_social_sms@2x.png",text:"",id:"__alloyId346"}),u.__views.index.add(u.__views.__alloyId346),u.__views.email=Ti.UI.createButton({width:"180dp",height:"40dp",bottom:"20dp",style:Titanium.UI.iPhone.SystemButtonStyle.PLAIN,font:{fontFamily:"Avenir Next Condensed",fontSize:"20dp"},color:"#fff",textAlign:"center",verticalAlign:"center",backgroundColor:Alloy.Globals.Styles.buttonBg,id:"email",titleid:"email_share"}),u.__views.index.add(u.__views.email),t?u.__views.email.addEventListener("touchstart",t):p["$.__views.email!touchstart!buttonTouchStart"]=!0,l?u.__views.email.addEventListener("touchend",l):p["$.__views.email!touchend!buttonTouchEnd"]=!0,u.__views.__alloyId347=Ti.UI.createLabel({width:"38dp",height:"38dp",left:"106dp",top:"-60dp",bottom:"20dp",backgroundImage:"images/icon_social_email@2x.png",text:"",id:"__alloyId347"}),u.__views.index.add(u.__views.__alloyId347),u.__views.facebook=Ti.UI.createButton({width:"180dp",height:"40dp",bottom:"20dp",style:Titanium.UI.iPhone.SystemButtonStyle.PLAIN,font:{fontFamily:"Avenir Next Condensed",fontSize:"20dp"},color:"#fff",textAlign:"center",verticalAlign:"center",backgroundColor:Alloy.Globals.Styles.buttonBg,id:"facebook",titleid:"facebook"}),u.__views.index.add(u.__views.facebook),t?u.__views.facebook.addEventListener("touchstart",t):p["$.__views.facebook!touchstart!buttonTouchStart"]=!0,l?u.__views.facebook.addEventListener("touchend",l):p["$.__views.facebook!touchend!buttonTouchEnd"]=!0,u.__views.__alloyId348=Ti.UI.createLabel({width:"38dp",height:"38dp",left:"94dp",top:"-60dp",bottom:"20dp",backgroundImage:"images/icon_social_facebook@2x.png",text:"",id:"__alloyId348"}),u.__views.index.add(u.__views.__alloyId348),u.__views.twitter=Ti.UI.createButton({width:"180dp",height:"40dp",bottom:"20dp",style:Titanium.UI.iPhone.SystemButtonStyle.PLAIN,font:{fontFamily:"Avenir Next Condensed",fontSize:"20dp"},color:"#fff",textAlign:"center",verticalAlign:"center",backgroundColor:Alloy.Globals.Styles.buttonBg,id:"twitter",titleid:"twitter"}),u.__views.index.add(u.__views.twitter),t?u.__views.twitter.addEventListener("touchstart",t):p["$.__views.twitter!touchstart!buttonTouchStart"]=!0,l?u.__views.twitter.addEventListener("touchend",l):p["$.__views.twitter!touchend!buttonTouchEnd"]=!0,u.__views.__alloyId349=Ti.UI.createLabel({width:"38dp",height:"38dp",left:"103dp",top:"-60dp",bottom:"20dp",backgroundImage:"images/icon_social_twitter@2x.png",text:"",id:"__alloyId349"}),u.__views.index.add(u.__views.__alloyId349),u.__views.google=Ti.UI.createButton({width:"180dp",height:"40dp",bottom:"20dp",style:Titanium.UI.iPhone.SystemButtonStyle.PLAIN,font:{fontFamily:"Avenir Next Condensed",fontSize:"20dp"},color:"#fff",textAlign:"center",verticalAlign:"center",backgroundColor:Alloy.Globals.Styles.buttonBg,id:"google",titleid:"google"}),u.__views.index.add(u.__views.google),t?u.__views.google.addEventListener("touchstart",t):p["$.__views.google!touchstart!buttonTouchStart"]=!0,l?u.__views.google.addEventListener("touchend",l):p["$.__views.google!touchend!buttonTouchEnd"]=!0,u.__views.__alloyId350=Ti.UI.createLabel({width:"38dp",height:"38dp",left:"104dp",top:"-60dp",bottom:"20dp",backgroundImage:"images/icon_social_google@2x.png",text:"",id:"__alloyId350"}),u.__views.index.add(u.__views.__alloyId350),y.destroy=function(){},_.extend(u,u.__views);var w=!1;Alloy.Globals.chat.openChatId=!1;var v=L("share_text");p["$.__views.index!open!open"]&&u.__views.index.addEventListener("open",e),p["$.__views.sms!touchstart!buttonTouchStart"]&&u.__views.sms.addEventListener("touchstart",t),p["$.__views.sms!touchend!buttonTouchEnd"]&&u.__views.sms.addEventListener("touchend",l),p["$.__views.email!touchstart!buttonTouchStart"]&&u.__views.email.addEventListener("touchstart",t),p["$.__views.email!touchend!buttonTouchEnd"]&&u.__views.email.addEventListener("touchend",l),p["$.__views.facebook!touchstart!buttonTouchStart"]&&u.__views.facebook.addEventListener("touchstart",t),p["$.__views.facebook!touchend!buttonTouchEnd"]&&u.__views.facebook.addEventListener("touchend",l),p["$.__views.twitter!touchstart!buttonTouchStart"]&&u.__views.twitter.addEventListener("touchstart",t),p["$.__views.twitter!touchend!buttonTouchEnd"]&&u.__views.twitter.addEventListener("touchend",l),p["$.__views.google!touchstart!buttonTouchStart"]&&u.__views.google.addEventListener("touchstart",t),p["$.__views.google!touchend!buttonTouchEnd"]&&u.__views.google.addEventListener("touchend",l),_.extend(u,y)}var Alloy=require("alloy"),Backbone=Alloy.Backbone,_=Alloy._;module.exports=Controller;